# --- Network & security ---
bind 127.0.0.1
protected-mode yes
port 6379
aclfile /usr/local/etc/redis/users.acl
databases 1
timeout 0
tcp-keepalive 300

# --- Persistence (lightweight RDB; AOF disabled to save RAM/IO) ---
save 900 1
save 300 10
appendonly no
stop-writes-on-bgsave-error yes

# --- Memory limits (tiny server) ---
maxmemory 128mb
maxmemory-policy volatile-lru
# Session keys should have TTL from your Node app; 'volatile-lru' evicts only TTL keys under pressure.

# --- Files & dirs ---
dir /data
dbfilename dump.rdb